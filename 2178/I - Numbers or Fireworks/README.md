<h3><a href="https://codeforces.com/contest/2178/problem/I" target="_blank" rel="noopener noreferrer">Numbers or Fireworks</a></h3>

<div class="header"><div class="title">I. Numbers or Fireworks</div><div class="time-limit"><div class="property-title">time limit per test</div>12 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>1024 megabytes</div><div class="input-file input-standard"><div class="property-title">input</div>standard input</div><div class="output-file output-standard"><div class="property-title">output</div>standard output</div></div><div><p> </p><p>Now that all the presents have been delivered, the North Pole is finally at peace — and it's time to celebrate with a spectacular New Year's fireworks show!</p><p>The North Pole is modeled as the Cartesian plane, with $$$n$$$ cities located at distinct lattice points. You are also given an integer $$$k$$$.</p><p>For a proper subset$$$^{\text{∗}}$$$ $$$T$$$ of the cities ($$$T$$$ may be empty), we define its <span class="tex-font-style-it">explosiveness</span> as follows: </p><ol> <li> A firework is launched from every city in $$$T$$$. </li><li> For each city $$$c$$$ <span class="tex-font-style-bf">not</span> in $$$T$$$, let $$$f$$$ be the number of fireworks launched from cities that are exactly $$$\sqrt{k}$$$ Euclidean distance$$$^{\text{†}}$$$ away from $$$c$$$. Assign the number $$$(f+1)$$$ to this city $$$c$$$. </li><li> The <span class="tex-font-style-it">explosiveness</span> of $$$T$$$ is the product of all numbers assigned in Step 2. </li></ol><p>Compute the sum of the <span class="tex-font-style-it">explosiveness</span> of $$$T$$$ over all $$$2^n-1$$$ proper subsets $$$T$$$ of the cities. Since the answer may be large, output it modulo $$$998\,244\,353$$$.</p><div class="statement-footnote"><p>$$$^{\text{∗}}$$$A proper subset is any subset which is not equal to the whole set.</p><p>$$$^{\text{†}}$$$The Euclidean distance between two points $$$(x, y)$$$ and $$$(p, q)$$$ is defined as $$$\sqrt{(x - p)^2 + (y - q)^2}$$$.</p></div></div><div class="input-specification"><div class="section-title">Input</div><p>Each test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \le t \le 1000$$$). The description of the test cases follows. </p><p>The first line of each test case contains two integers $$$n$$$ and $$$k$$$ ($$$2\le n\le 31$$$, $$$1\leq k \leq2\cdot 10^4$$$).</p><p>Then $$$n$$$ lines follow, the $$$i$$$-th line containing two integers $$$x_i$$$ and $$$y_i$$$ ($$$1\leq x_i, y_i\leq 100$$$) — the $$$x$$$ and $$$y$$$ coordinates of the $$$i$$$-th city, respectively. It is guaranteed that the coordinates of the cities are pairwise distinct. </p><p>It is guaranteed that the sum of $$$n^3$$$ over all test cases does not exceed $$$31^3$$$. </p></div><div class="output-specification"><div class="section-title">Output</div><p>For each test case, print a single integer — the sum, modulo $$$998\,244\,353$$$, of the <span class="tex-font-style-it">explosiveness</span> over all proper subsets $$$T$$$ of the cities.</p></div><div class="sample-tests"><div class="section-title">Example</div><div class="sample-test"><div class="input"><div class="title">Input<div title="Copy" data-clipboard-target="#id007553244230493813" id="id0034618360519191527" class="input-output-copier">Copy</div></div><pre id="id007553244230493813"><div class="test-example-line test-example-line-even test-example-line-0">4</div><div class="test-example-line test-example-line-odd test-example-line-1">3 1</div><div class="test-example-line test-example-line-odd test-example-line-1">1 2</div><div class="test-example-line test-example-line-odd test-example-line-1">2 1</div><div class="test-example-line test-example-line-odd test-example-line-1">2 2</div><div class="test-example-line test-example-line-even test-example-line-2">2 20000</div><div class="test-example-line test-example-line-even test-example-line-2">1 1</div><div class="test-example-line test-example-line-even test-example-line-2">100 100</div><div class="test-example-line test-example-line-odd test-example-line-3">9 5</div><div class="test-example-line test-example-line-odd test-example-line-3">1 1</div><div class="test-example-line test-example-line-odd test-example-line-3">1 2</div><div class="test-example-line test-example-line-odd test-example-line-3">1 3</div><div class="test-example-line test-example-line-odd test-example-line-3">2 1</div><div class="test-example-line test-example-line-odd test-example-line-3">2 2</div><div class="test-example-line test-example-line-odd test-example-line-3">2 3</div><div class="test-example-line test-example-line-odd test-example-line-3">3 1</div><div class="test-example-line test-example-line-odd test-example-line-3">3 2</div><div class="test-example-line test-example-line-odd test-example-line-3">3 3</div><div class="test-example-line test-example-line-even test-example-line-4">13 25</div><div class="test-example-line test-example-line-even test-example-line-4">50 50</div><div class="test-example-line test-example-line-even test-example-line-4">55 50</div><div class="test-example-line test-example-line-even test-example-line-4">54 53</div><div class="test-example-line test-example-line-even test-example-line-4">53 54</div><div class="test-example-line test-example-line-even test-example-line-4">50 55</div><div class="test-example-line test-example-line-even test-example-line-4">47 54</div><div class="test-example-line test-example-line-even test-example-line-4">46 53</div><div class="test-example-line test-example-line-even test-example-line-4">45 50</div><div class="test-example-line test-example-line-even test-example-line-4">46 47</div><div class="test-example-line test-example-line-even test-example-line-4">47 46</div><div class="test-example-line test-example-line-even test-example-line-4">50 45</div><div class="test-example-line test-example-line-even test-example-line-4">53 46</div><div class="test-example-line test-example-line-even test-example-line-4">54 47</div></pre></div><div class="output"><div class="title">Output<div title="Copy" data-clipboard-target="#id009616987034426343" id="id0008636924284385716" class="input-output-copier">Copy</div></div><pre id="id009616987034426343"><div class="test-example-line test-example-line-odd test-example-line-1">16</div><div class="test-example-line test-example-line-even test-example-line-2">3</div><div class="test-example-line test-example-line-odd test-example-line-3">8255</div><div class="test-example-line test-example-line-even test-example-line-4">560112</div></pre></div></div></div><div class="note"><div class="section-title">Note</div><p>In the first test case, below are the $$$2^3-1=7$$$ possible placements of fireworks. The numbers assigned to cities not in $$$T$$$ are circled. </p><table class="tex-tabular bordertable"><tbody><tr><td class="tex-tabular-text-align-center"><img class="tex-graphics" src="https://espresso.codeforces.com/9c50015fc89316a1f647004cd476e4ab8ece613c.png" style="max-width: 100.0%;max-height: 100.0%;" width="265px"></td><td class="tex-tabular-text-align-center"><img class="tex-graphics" src="https://espresso.codeforces.com/e8091ff2b517a214efab18b3de4c3f70a96afe02.png" style="max-width: 100.0%;max-height: 100.0%;" width="265px"></td><td class="tex-tabular-text-align-center"><img class="tex-graphics" src="https://espresso.codeforces.com/78d4a86a71ab4b41e1faff6ccab83d0f0b20ce93.png" style="max-width: 100.0%;max-height: 100.0%;" width="265px"></td></tr><tr><td class="tex-tabular-text-align-center"><img class="tex-graphics" src="https://espresso.codeforces.com/1ade2b400edb1659f62894c0658aaefd25b2899a.png" style="max-width: 100.0%;max-height: 100.0%;" width="265px"></td><td class="tex-tabular-text-align-center"><img class="tex-graphics" src="https://espresso.codeforces.com/9dda6eb097412185f2421ed85f538b1eb559cf4c.png" style="max-width: 100.0%;max-height: 100.0%;" width="265px"></td><td class="tex-tabular-text-align-center"><img class="tex-graphics" src="https://espresso.codeforces.com/66413aab0dc39376e40541e490b2a6407c64d133.png" style="max-width: 100.0%;max-height: 100.0%;" width="265px"></td></tr><tr><td class="tex-tabular-text-align-center"><img class="tex-graphics" src="https://espresso.codeforces.com/c3eea4d3b0796ea49861d528bd6c782db7dec95c.png" style="max-width: 100.0%;max-height: 100.0%;" width="265px"></td><td class="tex-tabular-text-align-center"></td><td class="tex-tabular-text-align-center"></td></tr></tbody></table> The total <span class="tex-font-style-it">explosiveness</span> is $$$(1\cdot 1\cdot 1)+(1\cdot 2)+(2\cdot 1)+(2\cdot 2)+(3)+(2)+(2)=16$$$.<p></p><p>In the second test case, there are $$$2^2-1=3$$$ possible placements of fireworks. For every placement, since $$$(1,1)$$$ and $$$(100,100)$$$ have a Euclidean distance of $$$\sqrt{(100-1)^2+(100-1)^2}=\sqrt{19\,602}\neq\sqrt{20\,000}$$$, none of the cities will have fireworks that are exactly $$$\sqrt{k}$$$ away. Thus, the number $$$1$$$ is assigned to every city without fireworks. Therefore, the <span class="tex-font-style-it">explosiveness</span> is $$$1$$$ for every $$$T$$$, and the answer is $$$1+1+1=3$$$.</p></div>