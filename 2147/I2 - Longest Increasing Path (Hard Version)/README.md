<h3><a href="https://codeforces.com/contest/2147/problem/I2" target="_blank" rel="noopener noreferrer">Longest Increasing Path (Hard Version)</a></h3>

<div class="header"><div class="title">I2. Longest Increasing Path (Hard Version)</div><div class="time-limit"><div class="property-title">time limit per test</div>2 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file input-standard"><div class="property-title">input</div>standard input</div><div class="output-file output-standard"><div class="property-title">output</div>standard output</div></div><div><p><span class="tex-font-style-bf">This is the hard version of the problem. The difference between the versions is that in this version the second test is $$$n=300\,000$$$. Hacks are not allowed in this problem.</span></p><p>Let's call an integer sequence $$$a_1, a_2, \ldots, a_n$$$ <span class="tex-font-style-it">distance-convex</span> if $$$|a_{i} - a_{i-1}| < |a_{i+1} - a_{i}|$$$ for every $$$1 < i < n$$$. In other words, if you jump through the points $$$a_1, a_2, \ldots, a_n$$$ in this order, each next jump is strictly longer than the previous one.</p><p>You are given two integers $$$n$$$ and $$$m$$$. Find a <span class="tex-font-style-it">distance-convex</span> sequence $$$a$$$ of length $$$n$$$ that contains <span class="tex-font-style-bf">at most $$$m$$$ distinct values</span>. In terms of the jump sequence, that would mean that you need to make $$$(n-1)$$$ jumps of increasing lengths while visiting at most $$$m$$$ distinct points. $$$-10^{18} \le a_i \le 10^{18}$$$ should hold for all $$$1 \le i \le n$$$.</p></div><div class="input-specification"><div class="section-title">Input</div><p>Input consists of two integers $$$n$$$ and $$$m$$$.</p><p>There are only 2 tests for this problem.</p><ul> <li> $$$n = 8$$$, $$$m = 6$$$; </li><li> $$$n = 300\,000$$$, $$$m = 15\,000$$$. </li></ul> It is guaranteed that an answer exists for both tests.<p><span class="tex-font-style-bf">Hacks are not allowed in this problem.</span></p></div><div class="output-specification"><div class="section-title">Output</div><p>Print a distance-convex sequence $$$a_1, a_2, \ldots, a_n$$$ that contains at most $$$m$$$ distinct values. $$$-10^{18} \le a_i \le 10^{18}$$$ should hold for all $$$1 \le i \le n$$$. </p><p>If there are multiple solutions, print any of them.</p></div><div class="sample-tests"><div class="section-title">Example</div><div class="sample-test"><div class="input"><div class="title">Input<div title="Copy" data-clipboard-target="#id007089219275085414" id="id0004738552777861893" class="input-output-copier">Copy</div></div><pre id="id007089219275085414"><div class="test-example-line test-example-line-even test-example-line-0">8 6</div></pre></div><div class="output"><div class="title">Output<div title="Copy" data-clipboard-target="#id007840544526496979" id="id008426253884691841" class="input-output-copier">Copy</div></div><pre id="id007840544526496979">1 1 3 6 10 3 11 1
</pre></div></div></div><div class="note"><div class="section-title">Note</div><p>The sequence $$$[1, 1, 3, 6, 10, 3, 11, 1]$$$ has length $$$n=8$$$ and contains $$$5$$$ different values, which is less than or equal to $$$m=6$$$. The differences between consecutive values are $$$0,2,3,4,7,8,10$$$, a strictly increasing sequence.</p><p>$$$[1, 1, 2, 4, 8, 16, 32, 1]$$$ would be another valid answer.</p></div>