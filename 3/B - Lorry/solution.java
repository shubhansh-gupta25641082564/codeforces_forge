import java.io.*;import java.util.*; public class Main {    static class FastScanner {        private final InputStream in;        private final byte[] buffer = new byte[1 << 16];        private int ptr = 0, len = 0;         FastScanner(InputStream in) {            this.in = in;        }         private int read() throws IOException {            if (ptr >= len) {                len = in.read(buffer);                ptr = 0;                if (len <= 0) return -1;            }            return buffer[ptr++];        }         long nextLong() throws IOException {            int c;            do {                c = read();                if (c == -1) return Long.MIN_VALUE;            } while (c <= ' ');             long sgn = 1;            if (c == '-') {                sgn = -1;                c = read();            }             long val = 0;            while (c > ' ') {                val = val * 10 + (c - '0');                c = read();            }            return val * sgn;        }    }     static class Item {        int p;        int idx;        Item(int p, int idx) { this.p = p; this.idx = idx; }    }     public static void main(String[] args) throws Exception {        FastScanner fs = new FastScanner(System.in);        long nL = fs.nextLong();        if (nL == Long.MIN_VALUE) return;        int n = (int) nL;        long v = fs.nextLong();         ArrayList<Item> kayaks = new ArrayList<>();        ArrayList<Item> cats = new ArrayList<>();         for (int i = 1; i <= n; i++) {            int t = (int) fs.nextLong();            int p = (int) fs.nextLong();            if (t == 1) kayaks.add(new Item(p, i));            else cats.add(new Item(p, i));        }         kayaks.sort((a, b) -> Integer.compare(b.p, a.p));        cats.sort((a, b) -> Integer.compare(b.p, a.p));         int k1 = kayaks.size();        int k2 = cats.size();         long[] pref1 = new long[k1 + 1];        long[] pref2 = new long[k2 + 1];         for (int i = 1; i <= k1; i++) pref1[i] = pref1[i - 1] + kayaks.get(i - 1).p;        for (int i = 1; i <= k2; i++) pref2[i] = pref2[i - 1] + cats.get(i - 1).p;         long bestSum = 0;        int bestCat = 0;        int bestKay = 0;         int maxCats = (int) Math.min((long) k2, v / 2);        for (int c = 0; c <= maxCats; c++) {            long rem = v - 2L * c;            int k = (int) Math.min((long) k1, rem);            long sum = pref2[c] + pref1[k];            if (sum > bestSum) {                bestSum = sum;                bestCat = c;                bestKay = k;            }        }         StringBuilder sb = new StringBuilder();        for (int i = 0; i < bestCat; i++) sb.append(cats.get(i).idx).append(' ');        for (int i = 0; i < bestKay; i++) sb.append(kayaks.get(i).idx).append(' ');         System.out.println(bestSum);        System.out.println(sb.toString().trim());    }}