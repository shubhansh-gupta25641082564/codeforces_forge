import java.io.*;import java.util.*;public class MaxCostA{    public static void main(String[] args) throws Exception{        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));        StringBuilder sb=new StringBuilder();        int t=Integer.parseInt(br.readLine().trim());        while(t-->0){            int n=Integer.parseInt(br.readLine().trim());            StringTokenizer st=new StringTokenizer(br.readLine());            int[] p=new int[n+1];            boolean[] pres=new boolean[n+1];            ArrayList<Integer> zpos=new ArrayList<>();            for(int i=1;i<=n;i++){                p[i]=Integer.parseInt(st.nextToken());                if(p[i]==0) zpos.add(i);                else pres[p[i]]=true;            }            boolean[] unavoidable=new boolean[n+1];            for(int i=1;i<=n;i++){                if(p[i]==i && p[i]!=0) unavoidable[i]=true;            }            if(zpos.size()==1){                int missing=-1;                for(int x=1;x<=n;x++) if(!pres[x]) { missing=x; break; }                if(missing==zpos.get(0)) unavoidable[missing]=true;            }            int L=-1,R=-1;            for(int i=1;i<=n;i++){                if(!unavoidable[i]) { L=i; break; }            }            for(int i=n;i>=1;i--){                if(!unavoidable[i]) { R=i; break; }            }            if(L==-1) sb.append(0).append('\n');            else sb.append(R-L+1).append('\n');        }        System.out.print(sb.toString());    }}