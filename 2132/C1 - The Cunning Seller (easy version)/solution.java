import java.io.*;public class Main{    public static void main(String[] args) throws Exception{        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));        int t = Integer.parseInt(br.readLine().trim());        StringBuilder sb = new StringBuilder();        long[] p = new long[40];        p[0]=1;        for(int i=1;i<40;i++) p[i]=p[i-1]*3;        for(int ti=0; ti<t; ti++){            long n = Long.parseLong(br.readLine().trim());            long ans = 0;            int k = 0;            while(n>0){                int d = (int)(n % 3);                if(d>0){                    if(k==0) ans += (long)d * 3;                    else ans += (long)d * (p[k+1] + (long)k * p[k-1]);                }                n /= 3;                k++;            }            sb.append(ans).append('\n');        }        System.out.print(sb.toString());    }}